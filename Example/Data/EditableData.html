<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Editable Data</title>
	    <meta name="viewport" content="width=device-width">
        <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
        <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
    </head>
    <body>
        <div id="example-table"></div>
    </body>
    <script>
        //Create Date Editor
        var dateEditor = function(cell, onRendered, success, cancel){
            //cell - the cell component for the editable cell
            //onRendered - function to call when the editor has been rendered
            //success - function to call to pass thesuccessfully updated value to Tabulator
            //cancel - function to call to abort the edit and return to a normal cell

            //create and style input
            var cellValue = luxon.DateTime.fromFormat(cell.getValue(), "dd/MM/yyyy").toFormat("yyyy-MM-dd"),
            input = document.createElement("input");

            input.setAttribute("type", "date");

            input.style.padding = "4px";
            input.style.width = "100%";
            input.style.boxSizing = "border-box";

            input.value = cellValue;

            onRendered(function(){
                input.focus();
                input.style.height = "100%";
            });

            function onChange(){
                if(input.value != cellValue){
                    success(luxon.DateTime.fromFormat(input.value, "yyyy-MM-dd").toFormat("dd/MM/yyyy"));
                }else{
                    cancel();
                }
            }

            //submit new value on blur or change
            input.addEventListener("blur", onChange);

            //submit new value on enter
            input.addEventListener("keydown", function(e){
                if(e.keyCode == 13){
                    onChange();
                }

                if(e.keyCode == 27){
                    cancel();
                }
            });

            return input;
        };

        var tabledata = [
            { id: 1, name: "Oli Bob", location: "United Kingdom", progress: "12", gender: "male", rating: 1, dob:"14/04/1984", car: true },
            { id: 2, name: "Mary May", location: "Germany", progress: "1", gender: "female", rating: 2, dob:"14/05/1982", car: true },
            { id: 3, name: "Christine Lobowski", location: "France", progress: "42", gender: "female", rating: 0, dob:"22/05/1982", car: true },
            { id: 4, name: "Brendon Philips", location: "USA", progress: "100", gender: "male", rating: 1, dob:"01/08/1980", car: false },
            { id: 5, name: "Margret Marmajuke", location: "Canada", progress: "16", gender: "female", rating: 5, dob:"31/01/1999", car: false },
            { id: 6, name: "Frank Harbours", location: "Russia", progress: "38", gender: "male", rating: 4, dob:"12/05/196", car: true },
            { id: 7, name: "Jamie Newhart", location: "India", progress: "23", gender: "male", rating: 3, dob:"14/05/1985", car: true  },
            { id: 8, name: "Gemma Jane", location: "China", progress: "60", gender: "female", rating: 0, dob:"22/05/1982", car: true  },
            { id: 9, name: "Emily Sykes", location: "South Korea", progress: "42", gender: "female", rating: 1, dob:"11/11/1970", car: false  },
            { id: 10, name: "James Newman", location: "Japan", progress: "73", gender: "male", rating: 5, dob:"22/03/1998", car: false }
        ];

        var table = new Tabulator("#example-table", {
            data: tabledata,
            layout: "fitColumns",
            columns:[
                {title:"Name", field:"name", width:150, editor:"input"},
                {title:"Location", field:"location", width:130, editor:"list", editorParams:{autocomplete:"true", allowEmpty:true,listOnEmpty:true, valuesLookup:true}},
                {title:"Progress", field:"progress", sorter:"number", hozAlign:"left", formatter:"progress", width:140, editor:true},
                {title:"Gender", field:"gender", editor:"list", editorParams:{values:{"male":"Male", "female":"Female", "unknown":"Unknown"}}},
                {title:"Rating", field:"rating",  formatter:"star", hozAlign:"center", width:100, editor:true},
                {title:"Date Of Birth", field:"dob", hozAlign:"center", sorter:"date", width:140, editor:dateEditor},
                {title:"Driver", field:"car", hozAlign:"center", editor:true, formatter:"tickCross"},
            ],
        });
    </script>
</html>